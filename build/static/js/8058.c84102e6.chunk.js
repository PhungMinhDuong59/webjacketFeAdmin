"use strict";(self.webpackChunkenglish_center_admin=self.webpackChunkenglish_center_admin||[]).push([[8058],{10173:function(e,n,t){var r=t(66934),a=t(91614),s=t(64554),c=t(20890),i=t(23060),o=t(80184),u=(0,r.ZP)(a.Z)((function(e){var n=e.theme;return"\n        margin-top: ".concat(n.spacing(4),";\n")}));n.Z=function(){return(0,o.jsx)(u,{className:"footer-wrapper",children:(0,o.jsxs)(s.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,o.jsx)(s.Z,{children:(0,o.jsx)(c.Z,{variant:"subtitle1",children:"ENGLISH CENTER"})}),(0,o.jsxs)(c.Z,{sx:{pt:{xs:2,md:0}},variant:"subtitle1",children:["dev:",(0,o.jsx)(i.Z,{href:"https://www.facebook.com/profile.php?id=100010823251886",target:"_blank",rel:"noopener noreferrer",children:"Tr\u1ea7n \u0110\xecnh H\u1ea3i"})]})]})})}},38058:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(6907),a=t(91614),s=t(61889),c=t(10173),i=t(57621),o=t(93433),u=t(29439),l=t(72791),h=t(13967),d=t(64554),p=t(9585),f=t(68096),Z=t(94925),v=t(99321),x=t(23786),g=t(94721),m=t(39281),j=t(79836),w=t(56890),k=t(35855),y=t(53994),b=t(94454),T=t(53382),A=t(20890),I=t(36151),S=t(13400),E=t(71715),_=t(90493),R=t(15021),C=t(49900),O=t(66934),P=t(74934),B=t(69073),N=t(80184);(0,O.ZP)(I.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));var H=function(e){var n=e.handleSubmitAddTeacher,t=(0,l.useState)(!1),r=(0,u.Z)(t,2),a=r[0],s=r[1],c=(0,l.useRef)(null);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,N.jsx)(d.Z,{display:"flex",alignItems:"center",children:(0,N.jsx)(I.Z,{sx:{ml:1},variant:"outlined",startIcon:(0,N.jsx)(B.Z,{}),onClick:n,children:"Th\xeam gi\xe1o vi\xean v\xe0o l\u1edbp h\u1ecdc"})}),(0,N.jsx)(S.Z,{color:"primary",onClick:function(){s(!0)},ref:c,sx:{ml:2,p:1},children:(0,N.jsx)(P.Z,{})})]}),(0,N.jsx)(E.Z,{keepMounted:!0,anchorEl:c.current,open:a,onClose:function(){s(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,N.jsxs)(_.Z,{sx:{p:1},component:"nav",children:[(0,N.jsx)(R.ZP,{button:!0,children:(0,N.jsx)(C.Z,{primary:"Bulk delete selected"})}),(0,N.jsx)(R.ZP,{button:!0,children:(0,N.jsx)(C.Z,{primary:"Bulk edit selected"})})]})})]})},L=t(93585),M=t(75985),W=(t(5462),t(37441)),G=function(){var e=(0,l.useState)([]),n=(0,u.Z)(e,2),t=n[0],r=n[1],a=t.length>0,s=(0,l.useState)(0),c=(0,u.Z)(s,2),I=(c[0],c[1],(0,l.useState)(5)),S=(0,u.Z)(I,2),E=(S[0],S[1],(0,l.useState)([])),_=(0,u.Z)(E,2),R=_[0],C=_[1],O=(0,l.useState)(Number(0)),P=(0,u.Z)(O,2),B=P[0],G=P[1],q=(0,l.useState)([]),z=(0,u.Z)(q,2),D=z[0],F=z[1];(0,l.useEffect)((function(){L.Z.getAllNoLimit().then((function(e){C(e.data)})).catch((function(e){})),W.Z.getAll("",1,2,0,1e3).then((function(e){F(e.data.list)})).catch((function(e){}))}),[]);var V=t.length>0&&t.length<D.length,K=t.length===D.length;(0,h.Z)();return(0,N.jsxs)(i.Z,{children:[a&&(0,N.jsx)(d.Z,{flex:1,p:2,children:(0,N.jsx)(H,{handleSubmitAddTeacher:function(){0!==B?t.length>=2?M.Am.error("Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn duy nh\u1ea5t 1 gi\xe1o vi\xean cho 1 l\u1edbp h\u1ecdc!",{position:M.Am.POSITION.BOTTOM_RIGHT}):(console.log(t[0]),L.Z.addTeacher(B,t[0]).then((function(e){M.Am.success("Th\xeam th\xe0nh c\xf4ng!",{position:M.Am.POSITION.BOTTOM_RIGHT}),G(0),r([])})).catch((function(e){}))):M.Am.error("B\u1ea1n ch\u01b0a ch\u1ecdn l\u1edbp h\u1ecdc.Vui l\xf2ng ch\u1ecdn l\u1edbp h\u1ecdc!",{position:M.Am.POSITION.BOTTOM_RIGHT})}})}),!a&&(0,N.jsx)(p.Z,{action:(0,N.jsx)(d.Z,{width:300,sx:{display:"flex",justifyContent:"space-between"},children:(0,N.jsxs)(f.Z,{sx:{ml:1},fullWidth:!0,variant:"outlined",children:[(0,N.jsx)(Z.Z,{children:"L\u1edbp h\u1ecdc"}),(0,N.jsx)(v.Z,{value:B,onChange:function(e){G(Number(e.target.value))},label:"Status",autoWidth:!0,children:R.length>0?R.map((function(e){return(0,N.jsx)(x.Z,{value:e.id,children:e.name},e.id)})):(0,N.jsx)(x.Z,{children:"Kh\xf4ng c\xf3 l\u1edbp h\u1ecdc n\xe0o thu\u1ed9c kh\xf3a h\u1ecdc n\xe0y!"})})]})}),title:"Danh s\xe1ch h\u1ecdc sinh"}),(0,N.jsx)(g.Z,{}),(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(M.Ix,{}),(0,N.jsxs)(j.Z,{children:[(0,N.jsx)(w.Z,{children:(0,N.jsxs)(k.Z,{children:[(0,N.jsx)(y.Z,{padding:"checkbox",children:(0,N.jsx)(b.Z,{color:"primary",checked:K,indeterminate:V,onChange:function(e){r(e.target.checked?D.map((function(e){return e.id})):[])}})}),(0,N.jsx)(y.Z,{align:"center",children:"M\xe3 gi\xe1o vi\xean"}),(0,N.jsx)(y.Z,{align:"center",children:"T\xean gi\xe1o vi\xean"})]})}),(0,N.jsx)(T.Z,{children:D.map((function(e){var n=t.includes(e.id);return(0,N.jsxs)(k.Z,{hover:!0,selected:n,children:[(0,N.jsx)(y.Z,{padding:"checkbox",children:(0,N.jsx)(b.Z,{color:"primary",checked:n,onChange:function(n){return a=e.id,void(t.includes(a)?r((function(e){return e.filter((function(e){return e!==a}))})):r((function(e){return[].concat((0,o.Z)(e),[a])})));var a},value:n})}),(0,N.jsx)(y.Z,{align:"center",children:(0,N.jsx)(A.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.id})}),(0,N.jsxs)(y.Z,{align:"center",children:[" ",e.full_name]})]},e.id)}))})]})]}),(0,N.jsx)(d.Z,{p:2})]})};var q=function(){return(0,N.jsx)(i.Z,{children:(0,N.jsx)(G,{})})};var z=function(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(r.ql,{children:(0,N.jsx)("title",{children:"Transactions - Applications"})}),(0,N.jsx)(a.Z,{sx:{marginTop:10},maxWidth:"lg",children:(0,N.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,N.jsx)(s.ZP,{item:!0,xs:12,children:(0,N.jsx)(q,{})})})}),(0,N.jsx)(c.Z,{})]})}},93585:function(e,n,t){var r=t(74165),a=t(15861),s=t(15671),c=t(43144),i=t(60136),o=t(14135),u=t(86650),l=function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(e){return(0,s.Z)(this,t),n.call(this,e)}return(0,c.Z)(t,[{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,s){var c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",e.prev=1,e.next=4,this.api.get("/admin/class",{params:{key_search:n,status:t,page:a,limit:s}});case 4:return i=e.sent,c=u.Z.handleResponse(i),e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(c);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"getAllNoLimit",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/class");case 3:return n=e.sent,u.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/admin/class/".concat(n,"/change-status"));case 3:return t=e.sent,u.Z.handleResponse(t),e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,s){var c,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",e.prev=1,e.next=4,this.api.post("/class/create",{name:n,start_date:t,end_date:a,course_id:s});case 4:return i=e.sent,c=u.Z.handleResponse(i),e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(c);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"addStudent",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.api.post("/class/".concat(n,"/add-student"),{user_course_id:t});case 4:return s=e.sent,a=u.Z.handleResponse(s),e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(a);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"addTeacher",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.prev=1,e.next=4,this.api.post("/class/".concat(n,"/set-teacher"),{teacher_id:t});case 4:return s=e.sent,a=u.Z.handleResponse(s),e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(a);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(n,t){return e.apply(this,arguments)}}()}]),t}(t(19882).Z),h=new l(localStorage.getItem("token"));n.Z=h},37441:function(e,n,t){var r=t(74165),a=t(15861),s=t(15671),c=t(43144),i=t(60136),o=t(14135),u=t(86650),l=function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(e){return(0,s.Z)(this,t),n.call(this,e)}return(0,c.Z)(t,[{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t,a,s,c){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/admin/user",{params:{key_search:n,status:t,role:a,page:s,limit:c}});case 3:return i=e.sent,u.Z.handleResponse(i),e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(n,t,r,a,s){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/admin/user/".concat(n,"/change-status"));case 3:return t=e.sent,u.Z.handleResponse(t),e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}]),t}(t(19882).Z),h=new l(localStorage.getItem("token"));n.Z=h},19882:function(e,n,t){var r=t(43144),a=t(15671),s=t(31243),c=t(75985),i=(0,r.Z)((function e(n){(0,a.Z)(this,e),this.api=void 0;var t={};n&&(t.Authorization="Bearer ".concat(n)),this.api=s.Z.create({baseURL:"".concat("http://localhost:9000/api/v1"),headers:t}),this.api.interceptors.response.use((function(e){console.log(e);e.config.url;if(400===e.data.status){if(null!==e.data.data)throw{response:e};"D\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7"===e.data.message?c.Am.error(e.data.data[0]):c.Am.error(e.data.message)}return e}),(function(e){var n,t;if(401===(null===(n=e.response)||void 0===n?void 0:n.status))localStorage.removeItem("token"),c.Am.error("Phi\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 h\u1ebft h\u1ea1n. Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i!"),setTimeout((function(){window.location.href="/login"}),3e3);else if(403===(null===(t=e.response)||void 0===t?void 0:t.status))c.Am.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o API n\xe0y!");else{var r,a=(null===(r=e.response)||void 0===r?void 0:r.data).message||e.message;c.Am.error(a)}}))}));n.Z=i},86650:function(e,n,t){var r=t(15671),a=t(43144),s=new(function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"handleResponse",value:function(e){var n="";if(400===e.data.status)throw n=e.data.message,new Error(e.data.message);if(401===e.data.status)throw n="B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp api n\xe0y!",new Error(n);return n}}]),e}());n.Z=s}}]);
//# sourceMappingURL=8058.c84102e6.chunk.js.map