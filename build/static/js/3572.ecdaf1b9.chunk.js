"use strict";(self.webpackChunkenglish_center_admin=self.webpackChunkenglish_center_admin||[]).push([[3572],{47881:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(69448),a=n.n(r),i=n(80184),s=a().bind({content:"Empty_content__OsDjh"});var c=function(){return(0,i.jsx)("div",{className:s("content"),children:(0,i.jsx)("h2",{children:"Wow, thi\u1ec7t tr\u1ed1ng tr\u1ea3i qu\xe1 \u0111i \ud83d\ude44"})})}},63572:function(e,t,n){n.r(t),n.d(t,{default:function(){return We}});var r=n(29439),a=n(6907),i=n(1413),s=n(13967),c=n(95193),o=n(61889),u=n(36151),l=n(5574),d=n(65661),h=n(39157),p=n(64554),f=n(68096),Z=n(94925),m=n(99321),v=n(23786),x=n(97123),g=n(55931),b=n(80848),j=n(61134),w=n(74696),y=n(39709),k=n(72791),S=n(75985),C=n(43641),_=n(69004),D=n(92727),V=n(73025),E=n(74165),T=n(15861),W=n(15671),L=n(43144),R=n(60136),A=n(14135),N=n(86650),F=function(e){(0,R.Z)(n,e);var t=(0,A.Z)(n);function n(e){return(0,W.Z)(this,n),t.call(this,e)}return(0,L.Z)(n,[{key:"create",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t,n,r,a,i,s,c,o){var u;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/lessons/create",{name:t,description:n,content:r,video_type:a,url_video:i,course_id:s,chapter_id:c,is_free:o});case 3:return u=e.sent,N.Z.handleResponse(u),e.abrupt("return",u.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r,a,i,s,c,o){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t,n,r,a,i,s,c,o,u){var l;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/lessons/".concat(t,"/update"),{name:n,description:r,content:a,video_type:i,url_video:s,course_id:c,chapter_id:o,is_free:u});case 3:return l=e.sent,N.Z.handleResponse(l),e.abrupt("return",l.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r,a,i,s,c,o,u){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t,n,r,a,i,s,c){var o;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/lessons",{params:{course_id:t,chapter_id:n,key_search:r,status:a,is_pagination:c,page:i,limit:s}});case 3:return o=e.sent,N.Z.handleResponse(o),e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r,a,i,s,c){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/lessons/".concat(t,"/detail"));case 3:return n=e.sent,N.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/lessons/".concat(t,"/change-status"));case 3:return n=e.sent,N.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadVideo",value:function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t,n){var r,a;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n),e.prev=2,e.next=5,this.api.post("/lessons/".concat(t,"/upload-driver"),r);case 5:return a=e.sent,N.Z.handleResponse(a),e.abrupt("return",a.data);case 10:throw e.prev=10,e.t0=e.catch(2),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(n(19882).Z),q=new F(localStorage.getItem("token")),I=n(80609),M=n(60874),O=(0,M.Ry)({name:(0,M.Z_)().trim().nonempty("T\xean b\xe0i h\u1ecdc kh\xf4ng \u0111\u01b0\u1ee3c tr\u1ed1ng").max(255,"T\xean b\xe0i h\u1ecdc t\u1ed1i \u0111a l\xe0 255 k\xed t\u1ef1"),description:(0,M.Z_)().trim().nonempty("M\xf4 t\u1ea3 b\xe0i h\u1ecdc l\xe0 b\u1eaft bu\u1ed9c"),content:(0,M.Z_)().trim().nonempty("N\u1ed9i dung b\xe0i h\u1ecdc l\xe0 b\u1eaft bu\u1ed9c"),urlVideo:(0,M.Z_)().trim().default(""),chapter:(0,M.Z_)().trim().nonempty("ch\u01b0\u01a1ng h\u1ecdc l\xe0 b\u1eaft bu\u1ed9c")}),B=n(69448),P=n.n(B),K=n(80184);P().bind({});var z=function(e){var t=e.setChangeData,n=e.changeData,a=(0,k.useState)(!1),E=(0,r.Z)(a,2),T=E[0],W=E[1],L=(0,k.useState)([]),R=(0,r.Z)(L,2),A=R[0],N=R[1],F=(0,k.useState)([]),M=(0,r.Z)(F,2),B=M[0],P=M[1],z=(0,k.useState)(""),G=(0,r.Z)(z,2),J=G[0],H=G[1],U=(0,k.useState)(!1),X=(0,r.Z)(U,2),Y=X[0],Q=X[1],$=(0,k.useState)("1"),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],re=(0,s.Z)(),ae=(0,c.Z)(re.breakpoints.down("md")),ie=function(){W(!1)};(0,k.useEffect)((function(){V.Z.getAll().then((function(e){P(e.data)})).catch((function(e){}))}),[]),(0,k.useEffect)((function(){D.Z.getAll(Number(J),"",-1,0,0,20).then((function(e){N(e.data.list)})).catch((function(e){}))}),[J]);var se=(0,j.cI)({resolver:(0,b.F)(O)}),ce=se.formState,oe=(ce.errors,ce.isSubmitSuccessful,se.handleSubmit),ue=se.reset;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(o.ZP,{item:!0,children:(0,K.jsx)(u.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,K.jsx)(w.Z,{fontSize:"small"}),onClick:function(){W(!0)},children:"Th\xeam m\u1edbi b\xe0i h\u1ecdc"})}),(0,K.jsxs)(l.Z,{fullScreen:ae,open:T,onClose:ie,"aria-labelledby":"responsive-dialog-title",fullWidth:!0,TransitionComponent:g.Z,transitionDuration:600,children:[(0,K.jsx)(d.Z,{sx:{fontWeight:700},id:"responsive-dialog-title",children:"Th\xeam m\u1edbi b\xe0i h\u1ecdc"}),(0,K.jsx)(j.RV,(0,i.Z)((0,i.Z)({},se),{},{children:(0,K.jsx)(h.Z,{children:(0,K.jsxs)(p.Z,{component:"form",onSubmit:oe((function(e){if(Q(!0),0===Number(te)&&!e.urlVideo.startsWith("https://www.youtube.com/"))return S.Am.error(I.jh),void Q(!1);q.create(e.name,e.description,e.content,Number(te),e.urlVideo,Number(J),Number(e.chapter),0).then((function(e){W(!1),S.Am.success(I.mx),t(!n),Q(!1),ue()})).catch((function(e){Q(!1)}))})),noValidate:!0,sx:{mt:1},children:[(0,K.jsx)(_.Z,{type:"text",name:"name",defaultValue:"",required:!0,fullWidth:!0,label:"T\xean b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"description",defaultValue:"",multiline:!0,required:!0,fullWidth:!0,label:"M\xf4 t\u1ea3 b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"content",defaultValue:"",multiline:!0,required:!0,fullWidth:!0,label:"N\u1ed9i dung b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(p.Z,{sx:{marginTop:2,marginBottom:2,minWidth:120},children:(0,K.jsxs)(f.Z,{fullWidth:!0,children:[(0,K.jsx)(Z.Z,{required:!0,id:"demo-simple-select-label",children:"Ki\u1ec3u video b\xe0i h\u1ecdc"}),(0,K.jsxs)(m.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:te,label:"Ki\u1ec3u video b\xe0i h\u1ecdc",onChange:function(e){ne(e.target.value)},children:[(0,K.jsx)(v.Z,{value:0,children:"\u0110\u01b0\u1eddng d\u1eabn Youtube"}),(0,K.jsx)(v.Z,{value:1,children:"Google Driver"})]})]})}),"0"==te&&(0,K.jsx)(_.Z,{type:"text",name:"urlVideo",defaultValue:"",fullWidth:!0,label:"\u0110\u01b0\u1eddng d\u1eabn video youtube",sx:{mb:2}}),(0,K.jsx)(p.Z,{sx:{marginBottom:2,minWidth:120},children:(0,K.jsxs)(f.Z,{fullWidth:!0,children:[(0,K.jsx)(Z.Z,{required:!0,id:"demo-simple-select-label",children:"Kh\xf3a h\u1ecdc"}),(0,K.jsx)(m.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:J,label:"Kh\xf3a h\u1ecdc",onChange:function(e){H(e.target.value)},children:B.map((function(e){return(0,K.jsx)(v.Z,{value:e.id,children:e.name},e.id)}))})]})}),(0,K.jsx)(C.U,{name:"chapter",defaultValue:"",arr:A,required:!0,fullWidth:!0,label:"Ch\u01b0\u01a1ng h\u1ecdc",sx:{mb:2}}),(0,K.jsxs)(x.Z,{children:[(0,K.jsx)(u.Z,{variant:"outlined",autoFocus:!0,onClick:ie,children:"Tho\xe1t"}),(0,K.jsx)(y.Z,{loading:Y,variant:"outlined",type:"submit",autoFocus:!0,children:"T\u1ea1o m\u1edbi b\xe0i h\u1ecdc"})]})]})})}))]})]})},G=n(68418),J=n(91614),H=n(10173),U=n(47047),X=n(57621),Y=n(49032),Q=n(50503),$=n(4942),ee=n(9585),te=n(94721),ne=n(14841),re=n(47881),ae=n(42614),ie=n(44383),se=n(30383),ce=n(39281),oe=n(79836),ue=n(56890),le=n(35855),de=n(53994),he=n(53382),pe=n(37027),fe=n(81608),Ze=n(48980),me=n(51691);var ve=function(e){var t=e.openDialogMapDelete,n=e.id,r=e.handleCloseDelete,a=e.handleChangeStatusLessons,i=e.fullScreen;return(0,K.jsxs)(l.Z,{fullScreen:i,open:t[n]||!1,onClose:function(){r(n)},"aria-labelledby":"responsive-dialog-title",TransitionComponent:Ze.Z,transitionDuration:600,children:[(0,K.jsx)(d.Z,{id:"responsive-dialog-title",children:"X\xe1c nh\u1eadn thay \u0111\u1ed5i tr\u1ea1ng th\xe1i b\xe0i h\u1ecdc?"}),(0,K.jsx)(h.Z,{children:(0,K.jsx)(me.Z,{children:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n thay \u0111\u1ed5i tr\u1ea1ng th\xe1i b\xe0i h\u1ecdc?"})}),(0,K.jsxs)(x.Z,{children:[(0,K.jsx)(u.Z,{autoFocus:!0,onClick:function(){r(n)},variant:"outlined",children:"Kh\xf4ng"}),(0,K.jsx)(u.Z,{onClick:function(){a(n)},autoFocus:!0,variant:"outlined",children:"C\xf3"})]})]})};var xe=function(e){var t=e.openDialogMapEdit,n=e.id,a=e.handleCloseEdit,o=e.item,f=(0,k.useState)(o),Z=(0,r.Z)(f,2),m=Z[0],v=Z[1],w=(0,k.useState)(!1),C=(0,r.Z)(w,2),D=C[0],V=C[1],E=(0,k.useState)(""),T=(0,r.Z)(E,2),W=T[0],L=T[1],R=(0,k.useContext)(_e),A=(0,s.Z)(),N=(0,c.Z)(A.breakpoints.down("md"));(0,k.useLayoutEffect)((function(){q.findOne(n).then((function(e){v(e.data),L(e.data.is_free)})).catch((function(e){}))}),[]);var F=(0,j.cI)({resolver:(0,b.F)(O)}),M=F.formState,B=(M.errors,M.isSubmitSuccessful,F.handleSubmit),P=F.reset;return(0,K.jsxs)(l.Z,{fullScreen:N,open:t[n]||!1,onClose:function(){a(n)},"aria-labelledby":"responsive-dialog-title",TransitionComponent:g.Z,transitionDuration:600,children:[(0,K.jsx)(d.Z,{sx:{fontWeight:600,fontSize:20},id:"responsive-dialog-title",children:"Th\xf4ng tin chi ti\u1ebft b\xe0i h\u1ecdc"}),(0,K.jsx)(j.RV,(0,i.Z)((0,i.Z)({},F),{},{children:(0,K.jsxs)(p.Z,{component:"form",onSubmit:B((function(e){return V(!0),e.name===m.name&&e.description===m.description&&e.content===m.content&&Number(e.sort)===m.sort&&e.urlVideo===m.url_video?(V(!1),void S.Am.error(I.G3)):0!==m.video_type||e.urlVideo.startsWith("https://www.youtube.com/watch?v=")?void q.update(n,e.name,e.description,e.content,m.video_type,e.urlVideo,m.course_id,m.chapter_id,Number(W)).then((function(e){S.Am.success(I.Gp),v(e.data),a(n),V(!1),R.onChangeValue()})).catch((function(e){V(!1)})):(V(!1),void S.Am.error(I.jh))})),autoComplete:"off",noValidate:!0,sx:{mt:1},children:[(0,K.jsxs)(h.Z,{children:[(0,K.jsx)(_.Z,{type:"text",name:"name",defaultValue:m.name,required:!0,multiline:!0,fullWidth:!0,label:"T\xean b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"description",defaultValue:m.description,required:!0,multiline:!0,fullWidth:!0,label:"M\xf4 t\u1ea3 b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"content",defaultValue:m.content,required:!0,multiline:!0,fullWidth:!0,label:"N\u1ed9i dung b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"number",name:"sort",defaultValue:"".concat(m.sort),required:!0,disabled:!0,fullWidth:!0,label:"th\u1ee9 t\u1ef1 b\xe0i h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"type",defaultValue:0==m.video_type?"Link Youtube":"Link Driver",required:!0,disabled:!0,fullWidth:!0,label:"ki\u1ec3u video",sx:{mb:2}}),(0,K.jsx)(ne.Z,{arr:se.DB,label:"B\xe0i h\u1ecdc mi\u1ec5n ph\xed",value:W,handleStatusChange:function(e){L(e.target.value)},type:0}),0==m.video_type&&(0,K.jsx)(_.Z,{type:"text",name:"urlVideo",defaultValue:"https://www.youtube.com/watch?v=".concat(m.id_video),required:!0,fullWidth:!0,label:"\u0110\u01b0\u1eddng d\u1eabn video",sx:{mb:2,mt:2}}),(0,K.jsx)(_.Z,{type:"text",name:"course",defaultValue:m.course_name,required:!0,disabled:!0,fullWidth:!0,label:"T\xean kh\xf3a h\u1ecdc",sx:{mb:2}}),(0,K.jsx)(_.Z,{type:"text",name:"chapter",defaultValue:m.chapter_name,required:!0,disabled:!0,fullWidth:!0,label:"T\xean ch\u01b0\u01a1ng h\u1ecdc",sx:{mb:2}})]}),(0,K.jsxs)(x.Z,{children:[(0,K.jsx)(u.Z,{autoFocus:!0,onClick:function(){P(),a(n)},variant:"outlined",children:"Tho\xe1t"}),(0,K.jsx)(y.Z,{loading:D,type:"submit",autoFocus:!0,variant:"outlined",children:"c\u1eadp nh\u1eadt"})]})]})}))]})},ge=n(20890),be=n(64277),je=n(49686),we={width:"1200",height:"500",playerVars:{autoplay:1}};var ye=function(e){var t=e.openDialogMapVideo,n=e.id,a=e.handleCloseVideo,i=(0,k.useState)({}),c=(0,r.Z)(i,2),o=c[0],f=c[1],Z=(0,k.useState)(""),m=(0,r.Z)(Z,2);return m[0],m[1],(0,s.Z)(),(0,k.useLayoutEffect)((function(){q.findOne(n).then((function(e){f(e.data)})).catch((function(e){}))}),[]),(0,K.jsxs)(l.Z,{fullScreen:!0,open:t[n]||!1,onClose:function(){a(n)},"aria-labelledby":"responsive-dialog-title",TransitionComponent:g.Z,transitionDuration:600,children:[(0,K.jsx)(d.Z,{sx:{fontWeight:600,fontSize:20},id:"responsive-dialog-title",children:"Video b\xe0i h\u1ecdc"}),(0,K.jsxs)(h.Z,{children:[0===o.video_type?(0,K.jsx)(je.Z,{videoId:o.id_video,opts:we}):(0,K.jsx)(be.Z,{url:"https://drive.google.com/file/d/".concat(o.id_video,"/preview"),width:"1200",height:"500",id:"",className:"",display:"block",position:"relative"}),(0,K.jsxs)(p.Z,{sx:{mt:2},children:[(0,K.jsx)(ge.Z,{children:o.name}),(0,K.jsx)(ge.Z,{children:o.description})]})]}),(0,K.jsx)(x.Z,{children:(0,K.jsx)(u.Z,{autoFocus:!0,onClick:function(){a(n)},variant:"outlined",children:"Tho\xe1t"})})]})};var ke=function(e){var t=e.listLessons,n=e.labelTable,r=e.getStatusLabel,a=e.handleChangeStatusLessons,i=e.handleClickOpenDelete,o=e.handleCloseDelete,l=e.openDialogMapDelete,d=e.handleClickOpenEdit,h=e.handleCloseEdit,p=e.openDialogMapEdit,f=e.handleClickOpenVideo,Z=e.handleCloseVideo,m=e.openDialogMapVideo,v=(0,s.Z)(),x=(0,c.Z)(v.breakpoints.down("md"));return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(ce.Z,{children:(0,K.jsxs)(oe.Z,{children:[(0,K.jsx)(ue.Z,{children:(0,K.jsx)(le.Z,{children:n.map((function(e){return(0,K.jsx)(de.Z,{align:"center",children:e.name},e.id)}))})}),(0,K.jsx)(he.Z,{children:t&&t.map((function(e){return(0,K.jsxs)(le.Z,{hover:!0,children:[(0,K.jsx)(fe.Z,{position:"center",value:e.id}),(0,K.jsx)(fe.Z,{position:"center",value:e.name}),(0,K.jsx)(fe.Z,{position:"center",value:e.course_name}),(0,K.jsx)(fe.Z,{position:"center",value:e.chapter_name}),(0,K.jsx)(de.Z,{align:"center",children:r(e.is_upload_video,"\u0110\xe3 upload","Ch\u01b0a upload")}),(0,K.jsx)(de.Z,{align:"center",children:r(e.status,"Ho\u1ea1t \u0111\u1ed9ng","T\u1ea1m kh\xf3a")}),(0,K.jsx)(pe.Z,{handleClickOpenEdit:d,id:e.id,handleClickOpenDelete:i,status:e.status}),(0,K.jsx)(de.Z,{align:"center",children:(0,K.jsx)(u.Z,{variant:"outlined",onClick:function(){f(e.id)},disabled:1!==e.is_upload_video,children:"Xem"})}),(0,K.jsx)(ve,{openDialogMapDelete:l,id:e.id,handleCloseDelete:o,handleChangeStatusLessons:a,fullScreen:x}),p[e.id]&&(0,K.jsx)(xe,{item:e,openDialogMapEdit:p,id:e.id,handleCloseEdit:h}),m[e.id]&&(0,K.jsx)(ye,{openDialogMapVideo:m,id:e.id,handleCloseVideo:Z})]},e.id)}))})]})})})},Se=(0,k.createContext)(null),Ce=function(e){var t=e.listLessons,n=e.totalRecord,a=e.onClickPagination,o=(0,k.useState)(0),u=(0,r.Z)(o,2),l=u[0],d=u[1],h=(0,k.useState)(10),f=(0,r.Z)(h,2),Z=f[0],m=f[1],v=(0,k.useState)(-1),x=(0,r.Z)(v,2),g=x[0],b=x[1],j=(0,k.useState)(""),w=(0,r.Z)(j,2),y=w[0],C=w[1],_=(0,k.useState)([]),W=(0,r.Z)(_,2),L=W[0],R=W[1],A=(0,k.useState)(-1),N=(0,r.Z)(A,2),F=N[0],M=N[1],O=(0,k.useState)([]),B=(0,r.Z)(O,2),P=B[0],z=B[1],G=(0,k.useState)(-1),J=(0,r.Z)(G,2),H=J[0],U=J[1],ce=(0,k.useState)({}),oe=(0,r.Z)(ce,2),ue=oe[0],le=oe[1],de=(0,k.useState)({}),he=(0,r.Z)(de,2),pe=he[0],fe=he[1],Ze=(0,k.useState)({}),me=(0,r.Z)(Ze,2),ve=me[0],xe=me[1],ge=(0,s.Z)(),be=((0,c.Z)(ge.breakpoints.down("md")),function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t){var n;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.getAll(t,"",Q.s.ALL,0,Y.r,Y.J);case 2:n=e.sent,z(n.data.list);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());(0,k.useEffect)((function(){V.Z.getAll().then((function(e){R(e.data)})).catch((function(e){})),be(-1)}),[]);var je=function(e){le((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!1))}))};(0,k.useEffect)((function(){a(F,H,y,l,Z,g)}),[l]),(0,k.useEffect)((function(){a(F,H,y,Y.r,Z,g)}),[Z,g,H]),(0,k.useEffect)((function(){a(F,H,y,1,Z,g),be(F)}),[F]);var we=function(){var e=(0,T.Z)((0,E.Z)().mark((function e(t){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.changeStatus(t);case 2:a(F,-1,y,l,Z,g),S.Am.success(I.Gp),je(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,K.jsx)(Se.Provider,{value:{onChangeValue:function(){a(F,H,y,1,Z,g)}},children:(0,K.jsxs)(X.Z,{children:[(0,K.jsx)(ee.Z,{action:(0,K.jsxs)(p.Z,{width:600,sx:{display:"flex",justifyContent:"space-between"},children:[(0,K.jsx)(ne.Z,{arr:L,label:"T\xean kh\xf3a h\u1ecdc",value:F,handleStatusChange:function(e){M(Number(e.target.value))},type:1}),(0,K.jsx)(ne.Z,{arr:P,label:"T\xean ch\u01b0\u01a1ng h\u1ecdc",value:H,handleStatusChange:function(e){U(Number(e.target.value))},type:1}),(0,K.jsx)(ie.Z,{valueSearch:y,setValueSearch:C,handleSubmitSearch:function(){a(F,H,y,1,Z,g)},label:"T\xecm ki\u1ebfm b\xe0i h\u1ecdc"}),(0,K.jsx)(ne.Z,{arr:se.hm,label:"Tr\u1ea1ng th\xe1i",value:g,handleStatusChange:function(e){b(Number(e.target.value))},type:0})]}),title:"Danh s\xe1ch b\xe0i h\u1ecdc"}),(0,K.jsx)(te.Z,{}),(0,K.jsx)(ke,{listLessons:t,labelTable:se.g9,getStatusLabel:se.rp,handleChangeStatusLessons:we,handleClickOpenDelete:function(e){le((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!0))}))},handleCloseDelete:je,openDialogMapDelete:ue,handleClickOpenEdit:function(e){fe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!0))}))},handleCloseEdit:function(e){fe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!1))}))},openDialogMapEdit:pe,openDialogMapVideo:ve,handleClickOpenVideo:function(e){xe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!0))}))},handleCloseVideo:function(e){xe((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,$.Z)({},e,!1))}))}}),t.length>0?(0,K.jsx)(ae.Z,{handleChangePagination:function(e,t){d(Number(t))},handleChangeLimit:function(e){m(Number(e.target.value))},totalRecord:n,limit:Z}):(0,K.jsx)(p.Z,{p:2,sx:{display:"flex",justifyContent:"space-between"},children:(0,K.jsx)(re.Z,{})})]})})},_e=Se;var De=function(e){var t=e.changeData,n=(0,k.useState)([]),a=(0,r.Z)(n,2),i=a[0],s=a[1],c=(0,k.useState)(0),o=(0,r.Z)(c,2),u=o[0],l=o[1],d=(0,k.useState)(!1),h=(0,r.Z)(d,2),p=h[0],f=h[1],Z=function(e,t,n,r,a,i){q.getAll(e,t,n,r,a,i).then((function(e){s(e.data.list),l(e.data.total_record),f(!0)})).catch((function(e){}))};return(0,k.useEffect)((function(){Z(-1,-1,"",Q.s.ALL,Y.r,Y.J)}),[]),(0,k.useEffect)((function(){Z(-1,-1,"",Q.s.ALL,Y.r,Y.J)}),[t]),p?(0,K.jsx)(X.Z,{children:(0,K.jsx)(Ce,{listLessons:i,totalRecord:u,onClickPagination:function(e,t,n,r,a,i){Z(e,t,n,i,r,a)}})}):(0,K.jsx)("div",{children:(0,K.jsx)(U.Z,{animation:"wave"})})},Ve=n(19658),Ee=n(93006);var Te=function(e){var t=e.setChangeData,n=e.changeData,a=(0,k.useState)(!1),i=(0,r.Z)(a,2),g=i[0],b=i[1],j=(0,k.useState)(!1),C=(0,r.Z)(j,2),_=C[0],D=C[1],V=(0,k.useState)(""),E=(0,r.Z)(V,2),T=E[0],W=E[1],L=(0,k.useState)([]),R=(0,r.Z)(L,2),A=R[0],N=R[1],F=(0,k.useState)(""),M=(0,r.Z)(F,2),O=M[0],B=M[1],P=(0,k.useState)(!1),z=(0,r.Z)(P,2),G=z[0],J=z[1],H=(0,s.Z)(),U=(0,c.Z)(H.breakpoints.down("md")),X=function(){b(!1)};return(0,k.useEffect)((function(){q.getAll(-1,-1,"",-1,1,10,0).then((function(e){N(e.data.list.filter((function(e){return 1===e.video_type&&""===e.id_video_driver})))})).catch((function(e){}))}),[]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(o.ZP,{item:!0,children:(0,K.jsx)(u.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,K.jsx)(w.Z,{fontSize:"small"}),onClick:function(){b(!0)},children:"Upload Video cho b\xe0i h\u1ecdc"})}),(0,K.jsxs)(l.Z,{fullScreen:U,open:g,onClose:X,"aria-labelledby":"responsive-dialog-title",fullWidth:!0,children:[(0,K.jsx)(d.Z,{sx:{fontWeight:700},id:"responsive-dialog-title",children:"T\u1ea3i video cho b\xe0i h\u1ecdc"}),_&&(0,K.jsx)(Ve.Z,{severity:"error",children:T}),(0,K.jsx)(h.Z,{children:(0,K.jsxs)(p.Z,{component:"form",onSubmit:function(e){e.preventDefault(),J(!0);var r=new FormData(e.currentTarget);return""===O?(D(!0),W("Vui l\xf2ng ch\u1ecdn b\xe0i h\u1ecdc!"),void J(!1)):""===r.get("file").name?(D(!0),W("B\u1ea1n ch\u01b0a nh\u1eadp file!"),void J(!1)):void q.uploadVideo(Number(O),r.get("file")).then((function(e){b(!1),t(!n),S.Am.success(I.WC),J(!1)})).catch((function(e){J(!1)}))},noValidate:!0,sx:{mt:1},children:[(0,K.jsx)(p.Z,{sx:{marginTop:4,minWidth:120},children:(0,K.jsxs)(f.Z,{fullWidth:!0,children:[(0,K.jsx)(Z.Z,{id:"demo-simple-select-label",children:"B\xe0i h\u1ecdc"}),(0,K.jsx)(m.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"B\xe0i h\u1ecdc",onChange:function(e){B(e.target.value)},children:A.map((function(e){return(0,K.jsx)(v.Z,{value:e.id,children:e.name},e.id)}))})]})}),(0,K.jsx)(Ee.Z,{sx:{marginTop:4,minWidth:120},name:"file",type:"file"}),(0,K.jsx)(Ve.Z,{sx:{mt:2},severity:"info",children:"Th\u1eddi gian upload s\u1ebd c\xe0ng l\xe2u n\u1ebfu dung l\u01b0\u1ee3ng file upload c\xe0ng l\u1edbn!"}),(0,K.jsxs)(x.Z,{children:[(0,K.jsx)(u.Z,{variant:"outlined",autoFocus:!0,onClick:X,children:"Tho\xe1t"}),(0,K.jsx)(y.Z,{loading:G,variant:"outlined",type:"submit",autoFocus:!0,children:"T\u1ea3i l\xean"})]})]})})]})]})};var We=function(){var e=(0,k.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(a.ql,{children:(0,K.jsx)("title",{children:"Qu\u1ea3n l\xed b\xe0i h\u1ecdc"})}),(0,K.jsx)(G.Z,{children:(0,K.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,K.jsx)(z,{setChangeData:i,changeData:n}),(0,K.jsx)(Te,{setChangeData:i,changeData:n})]})}),(0,K.jsx)(J.Z,{maxWidth:"lg",children:(0,K.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,K.jsx)(o.ZP,{item:!0,xs:12,children:(0,K.jsx)(De,{changeData:n})})})}),(0,K.jsx)(H.Z,{})]})}},92727:function(e,t,n){var r=n(74165),a=n(15861),i=n(15671),s=n(43144),c=n(60136),o=n(14135),u=n(86650),l=function(e){(0,c.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/chapter/create",{name:t,course_id:n});case 3:return a=e.sent,u.Z.handleResponse(a),e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/chapter/".concat(t,"/update"),{name:n,course_id:a});case 3:return i=e.sent,u.Z.handleResponse(i),e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,i,s,c){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/chapter",{params:{course_id:t,key_search:n,status:a,is_pagination:i,page:s,limit:c}});case 3:return o=e.sent,u.Z.handleResponse(o),e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/chapter/".concat(t,"/detail"));case 3:return n=e.sent,u.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"changeStatus",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.prev=1,e.next=4,this.api.post("/chapter/".concat(t,"/change-status"));case 4:if(400!==(n=e.sent).data.status){e.next=9;break}throw n.data,n.data.data,{response:n};case 9:return e.abrupt("return",n.data);case 12:throw e.prev=12,e.t0=e.catch(1),{error:e.t0};case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(n(19882).Z),d=new l(localStorage.getItem("token"));t.Z=d},73025:function(e,t,n){var r=n(74165),a=n(15861),i=n(15671),s=n(43144),c=n(60136),o=n(14135),u=n(86650),l=function(e){(0,c.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/course");case 3:return t=e.sent,u.Z.handleResponse(t),e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/course/".concat(t,"/detail"));case 3:return n=e.sent,u.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllNoBanner",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,this.api.get("/course/no-banner");case 4:return n=e.sent,t=u.Z.handleResponse(n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(t);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getListClassById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.api.get("/course/".concat(t,"/list-class"));case 4:return a=e.sent,n=u.Z.handleResponse(a),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(n);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListClassByIdAddHour",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,e.next=4,this.api.get("/course/".concat(t,"/list-class-add-hour"));case 4:return a=e.sent,n=u.Z.handleResponse(a),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching user:",e.t0),new Error(n);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStudentById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.get("/course/".concat(t,"/list-student"));case 3:return n=e.sent,u.Z.handleResponse(n),e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(n(19882).Z),d=new l(localStorage.getItem("token"));t.Z=d}}]);
//# sourceMappingURL=3572.ecdaf1b9.chunk.js.map